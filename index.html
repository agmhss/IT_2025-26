<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Official Tax Calculator FY 2025-26</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4 md:p-10 font-sans text-gray-800">

    <div class="max-w-2xl mx-auto bg-white shadow-2xl rounded-3xl overflow-hidden border border-gray-200">
        <div class="bg-indigo-600 p-6 text-white text-center">
            <h1 class="text-2xl font-bold">Income Tax Calculator</h1>
            <p class="opacity-80 text-sm">Based on Finance Bill 2025 (New Regime)</p>
        </div>

        <div class="p-8 space-y-6">
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Gross Annual Income (₹)</label>
                    <input type="number" id="grossIncome" placeholder="e.g. 1250000" 
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-100 focus:border-indigo-500 outline-none transition-all text-lg font-medium">
                </div>

                <div class="flex items-center p-4 bg-indigo-50 rounded-xl border border-indigo-100">
                    <input type="checkbox" id="isSalaried" checked class="w-5 h-5 accent-indigo-600">
                    <div class="ml-3">
                        <label for="isSalaried" class="font-bold text-indigo-900 block">Salaried / Pensioner</label>
                        <span class="text-xs text-indigo-700 italic">Includes ₹75,000 Standard Deduction</span>
                    </div>
                </div>

                <button onclick="calculateExactTax()" 
                    class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl shadow-lg transition-transform active:scale-95">
                    Calculate Exact Tax
                </button>
            </div>

            <div id="resultArea" class="hidden border-t pt-6 space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="text-xs font-bold text-gray-400 uppercase">Taxable Income</p>
                        <p id="resTaxable" class="text-xl font-bold text-gray-800"></p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="text-xs font-bold text-gray-400 uppercase">Slab-wise Tax</p>
                        <p id="resSlabTax" class="text-xl font-bold text-gray-800"></p>
                    </div>
                </div>

                <div id="reliefBanner" class="hidden p-4 bg-green-50 border border-green-200 rounded-lg">
                    <p class="text-sm text-green-800 font-medium italic">✨ Marginal Relief applied to limit tax to the income excess of ₹12 Lakh.</p>
                </div>

                <div class="space-y-2 border-b pb-4">
                    <div class="flex justify-between text-gray-600">
                        <span>Total Tax (After Relief/Rebate)</span>
                        <span id="resNetTax" class="font-bold"></span>
                    </div>
                    <div class="flex justify-between text-gray-600">
                        <span>Cess (4% Health & Education)</span>
                        <span id="resCess" class="font-bold"></span>
                    </div>
                </div>

                <div class="flex justify-between items-center bg-gray-900 text-white p-6 rounded-2xl">
                    <span class="text-lg font-medium">Final Tax Liability</span>
                    <span id="resTotal" class="text-3xl font-black text-indigo-400"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateExactTax() {
            const gross = parseFloat(document.getElementById('grossIncome').value) || 0;
            const isSalaried = document.getElementById('isSalaried').checked;
            
            [span_6](start_span)// 1. Apply Standard Deduction[span_6](end_span)
            const stdDed = isSalaried ? 75000 : 0;
            const taxableIncome = Math.max(0, gross - stdDed);

            [span_7](start_span)// 2. Slab Calculation as per Budget 2025[span_7](end_span)
            let slabTax = 0;
            if (taxableIncome > 2400000) slabTax += (taxableIncome - 2400000) * 0.30;
            if (taxableIncome > 2000000) slabTax += (Math.min(taxableIncome, 2400000) - 2000000) * 0.25;
            if (taxableIncome > 1600000) slabTax += (Math.min(taxableIncome, 2000000) - 1600000) * 0.20;
            if (taxableIncome > 1200000) slabTax += (Math.min(taxableIncome, 1600000) - 1200000) * 0.15;
            if (taxableIncome > 800000)  slabTax += (Math.min(taxableIncome, 1200000) - 800000) * 0.10;
            if (taxableIncome > 400000)  slabTax += (Math.min(taxableIncome, 800000) - 400000) * 0.05;

            [span_8](start_span)[span_9](start_span)[span_10](start_span)// 3. Section 87A Rebate and Marginal Relief[span_8](end_span)[span_9](end_span)[span_10](end_span)
            let netTax = slabTax;
            let marginalReliefUsed = false;

            if (taxableIncome <= 1200000) {
                [span_11](start_span)[span_12](start_span)// Full rebate if income <= 12L[span_11](end_span)[span_12](end_span)
                netTax = 0;
            } else {
                [span_13](start_span)[span_14](start_span)// Calculate Marginal Relief[span_13](end_span)[span_14](end_span)
                // Tax should not exceed (Income - 12,00,000)
                const excessIncome = taxableIncome - 1200000;
                if (slabTax > excessIncome) {
                    netTax = excessIncome;
                    marginalReliefUsed = true;
                }
            }

            // 4. Final Aggregation
            const cess = netTax * 0.04;
            const totalTax = netTax + cess;

            // UI Update
            document.getElementById('resultArea').classList.remove('hidden');
            document.getElementById('resTaxable').innerText = "₹" + taxableIncome.toLocaleString('en-IN');
            document.getElementById('resSlabTax').innerText = "₹" + slabTax.toLocaleString('en-IN');
            document.getElementById('resNetTax').innerText = "₹" + netTax.toLocaleString('en-IN');
            document.getElementById('resCess').innerText = "₹" + cess.toLocaleString('en-IN');
            document.getElementById('resTotal').innerText = "₹" + Math.round(totalTax).toLocaleString('en-IN');
            
            const reliefBanner = document.getElementById('reliefBanner');
            marginalReliefUsed ? reliefBanner.classList.remove('hidden') : reliefBanner.classList.add('hidden');
        }
    </script>
</body>
</html>

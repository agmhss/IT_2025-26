<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income Tax Calculator FY 2025-26</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-6">

    <div class="bg-white rounded-3xl shadow-2xl w-full max-w-lg border border-slate-200 overflow-hidden">
        <div class="bg-indigo-700 p-8 text-white">
            <h1 class="text-2xl font-bold tracking-tight">Tax Calculator FY 2025-26</h1>
            <p class="text-indigo-200 text-sm mt-1">New Regime (Default) | AY 2026-27</p>
        </div>

        <div class="p-8 space-y-6">
            <div class="space-y-4">
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2">Gross Annual Income (₹)</label>
                    <input type="number" id="grossIncome" placeholder="e.g. 1500000" 
                        class="w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-indigo-500 focus:bg-white outline-none transition-all text-xl font-semibold">
                </div>

                <div class="flex items-center p-4 bg-indigo-50 rounded-2xl border border-indigo-100">
                    <input type="checkbox" id="isSalaried" checked class="w-5 h-5 accent-indigo-600 cursor-pointer">
                    <div class="ml-4">
                        <label for="isSalaried" class="font-bold text-indigo-900 block cursor-pointer">Salaried / Pensioner</label>
                        <span class="text-xs text-indigo-600 font-medium">Auto-apply ₹75,000 Standard Deduction</span>
                    </div>
                </div>

                <button id="calcBtn"
                    class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-5 rounded-2xl shadow-lg shadow-indigo-200 transition-all active:scale-[0.98]">
                    Calculate Net Tax
                </button>
            </div>

            <div id="resultArea" class="hidden animate-in fade-in slide-in-from-bottom-4 duration-500">
                <div class="space-y-3 bg-slate-900 rounded-3xl p-6 text-white">
                    <div class="flex justify-between text-slate-400 text-sm">
                        <span>Taxable Income:</span>
                        <span id="resTaxable" class="font-mono text-white"></span>
                    </div>
                    <div class="flex justify-between text-slate-400 text-sm border-b border-slate-800 pb-3">
                        <span>Slab Tax (Pre-Rebate):</span>
                        <span id="resSlabTax" class="font-mono text-white"></span>
                    </div>
                    
                    <div id="reliefRow" class="hidden flex justify-between text-emerald-400 text-sm">
                        <span class="flex items-center">
                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.536 13.536a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 011.414-1.414l.707.707zM16.464 16.464a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414l-.707.707z"></path></svg>
                            Marginal Relief / Rebate:
                        </span>
                        <span id="resRelief" class="font-mono"></span>
                    </div>

                    <div class="flex justify-between text-slate-400 text-sm">
                        <span>Health & Education Cess (4%):</span>
                        <span id="resCess" class="font-mono text-white"></span>
                    </div>

                    <div class="pt-4 mt-2 border-t border-slate-800 flex justify-between items-center">
                        <span class="text-lg font-semibold">Total Tax Liability:</span>
                        <span id="resTotal" class="text-3xl font-black text-indigo-400"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Use addEventListener to ensure button works even if browser has security restrictions on inline events
        document.getElementById('calcBtn').addEventListener('click', function() {
            const grossInput = document.getElementById('grossIncome').value;
            if (!grossInput) return alert("Please enter your gross income.");

            const gross = parseFloat(grossInput);
            const isSalaried = document.getElementById('isSalaried').checked;
            
            // 1. Standard Deduction: ₹75,000 for salaried
            const stdDed = isSalaried ? 75000 : 0;
            const taxableIncome = Math.max(0, gross - stdDed);

            // 2. Official New Regime Slabs FY 2025-26
            let slabTax = 0;
            const brackets = [
                { l: 0, h: 400000, r: 0.00 },
                { l: 400000, h: 800000, r: 0.05 },
                { l: 800000, h: 1200000, r: 0.10 },
                { l: 1200000, h: 1600000, r: 0.15 },
                { l: 1600000, h: 2000000, r: 0.20 },
                { l: 2000000, h: 2400000, r: 0.25 },
                { l: 2400000, h: Infinity, r: 0.30 }
            ];

            brackets.forEach(b => {
                if (taxableIncome > b.l) {
                    slabTax += (Math.min(taxableIncome, b.h) - b.l) * b.r;
                }
            });

            // 3. Section 87A Rebate & Marginal Relief
            let netTax = slabTax;
            let reliefAmount = 0;

            if (taxableIncome <= 1200000) {
                // NIL tax for income up to ₹12 Lakh
                reliefAmount = slabTax;
                netTax = 0;
            } else {
                // Marginal Relief: Tax restricted to income excess of ₹12 Lakh
                const excessIncome = taxableIncome - 1200000;
                if (slabTax > excessIncome) {
                    reliefAmount = slabTax - excessIncome;
                    netTax = excessIncome;
                }
            }

            // 4. Cess calculation
            const cess = netTax * 0.04;
            const finalTax = netTax + cess;

            // Update UI
            document.getElementById('resultArea').classList.remove('hidden');
            document.getElementById('resTaxable').innerText = "₹" + Math.round(taxableIncome).toLocaleString('en-IN');
            document.getElementById('resSlabTax').innerText = "₹" + Math.round(slabTax).toLocaleString('en-IN');
            document.getElementById('resCess').innerText = "₹" + Math.round(cess).toLocaleString('en-IN');
            document.getElementById('resTotal').innerText = "₹" + Math.round(finalTax).toLocaleString('en-IN');

            const reliefRow = document.getElementById('reliefRow');
            if (reliefAmount > 0) {
                reliefRow.classList.remove('hidden');
                document.getElementById('resRelief').innerText = "- ₹" + Math.round(reliefAmount).toLocaleString('en-IN');
            } else {
                reliefRow.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
